
| Scenario                                                                                                                                                                                                                                                                                                                                                                                                                                           | Answer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Protect and encrypt the sensitive credit card info for users and improve cache hit ratio of your CloudFront distribution                                                                                                                                                                                                                                                                                                                           | Secure end-to-end connections to the origin servers in your CloudFront distribution by using HTTPS and field-level encryption. Set up your origin to add a `Cache-Control max-age` directive to your objects. Apply the longest practical value for `max-age` to increase your cache hit ratio                                                                                                                                                                                                                                |
| App hosted in ASG of on-demand EC2 instances with custom AMI. Dev, testing, staging, prod environments. Design a deployment strategy that securely stores the credentials of each environment, expediates the startup time for EC2 instances, and allows the same AMI to work in all environments                                                                                                                                                  | Add a tag to each EC2 instance based on their environment. Use Systems Manager Automation to preconfigure the AMI by installing all of required app/dependencies. Write a bootstrap script in User Data to analyze the tag and set the env config accordingly. Use Systems Manager Parameter Store to store the credentials as Secure String params                                                                                                                                                                           |
| Developing AI-powered traffic monitoring portal. Highly available and fault-tolerant. Automatically assesses app for exposure, vulnerabilities, and deviations from AWS best practices                                                                                                                                                                                                                                                             | Use Inspector for automated security assessment to help improve the security and compliance of your apps. Launch ASG of EC2 instances on 3 AZs. Set up ALB to distribute incoming traffic. Set up Aurora as the database tier. Using Route53, create an alias record for the root domain to point to the load balancer                                                                                                                                                                                                        |
| Canary deployment of Lambda + API Gateway                                                                                                                                                                                                                                                                                                                                                                                                          | Deploy app using Traffic Shifting with Lambda Aliases                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Implement an automated OS Patching solution for all Windows servers hosted on-premises as well as in AWS Cloud. Use Systems Manager                                                                                                                                                                                                                                                                                                                | (1) Download and install SSM Agent on hybrid servers using activation codes/IDs obtained. Register servers on-premise to Systems Manager service. In the SSM console, hybrid instances will have an `mi` prefix. Apply patches using Systems Manager patch manager. (2) Set up a single IAM service role for Systems Manager to enable the service to execute STS `AssumeRole` operation. Allow the generation of service tokens by registering the IAM role. Use the service role to perform the managed-instance activation |
| Uses encrypted S3 bucket to store credential files of its customers. Configured federated access to a particular AD user group from their on-premise network to allow access to S3 bucket. For audit purpose, need to automatically detect any policy changes that are related to the restricted federated access of the bucket and to have the ability to revert any accidental changes made by the admins. Fastest way to detect config changes? | Set up AWS Config rule with a configuration change trigger that will detect any changes in the S3 bucket config and which will also invoke Systems Manager Automation document with a Lambda function that will revert any changes                                                                                                                                                                                                                                                                                            |
| A new compliance rule that mandates a monthly audit of every Linux/Windows EC2 instances check for system performance issues. Each instance must have a logging function that collects various system details and retrieve custom metrics from installed applications or services. DevOps teams will periodically review these logs and analyze their contents                                                                                     | Configure and install unified CloudWatch Logs agent in each EC2 instance that will automatically collect and push data to CloudWatch Logs. Analyze the log data with CloudWatch Logs Insights                                                                                                                                                                                                                                                                                                                                 |
| App using Aurora MySQL db instance in the region where it's based. It aims to consolidate and store the data of its offerings to a single data source for its product catalog across all regions. To comply with data privacy regulations, they need to ensure that personal info of their users are kept in their respective regions. Meet requirement with least amount of change                                                                | Set up multiple read replicas in your Aurora cluster (can create rr in diff regions) to store the product catalog data. Launch an additional local Aurora instance in each Region for storing personal info                                                                                                                                                                                                                                                                                                                   |
| Ensure users remain logged in across scaling events and app deployments                                                                                                                                                                                                                                                                                                                                                                            | Launch a new ElastiCache for Redis cluster with nodes across multiple AZs. Configure the app to store user-session info in Elasticache.                                                                                                                                                                                                                                                                                                                                                                                       |



# Security Services Comparison

| Service   | Description                                                                                                                                                                                                                                                                                                                            |
| --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Inspector | Automated security assessment service that helps improve the security and compliance of apps deployed on AWS. Automatically assesses applications for exposure, vulnerabilities, and deviations from best practices. After performing an assessment, it produces a detailed list of security findings prioritized by level of security |
| Shield    | A managed Distributed Denial of Service (DDoS) protection service and not an automated security asssessment.                                                                                                                                                                                                                           |
| GuardDuty | A threat detection service that continuously monitors for malicious activity and unauthorized behaviour to protect your AWS accounts                                                                                                                                                                                                   |
| Macie     | A security service that uses ML to automatically discover, classify, and protect sensitive data in AWS                                                                                                                                                                                                                                 |